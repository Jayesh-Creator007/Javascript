<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

</head>

<body>
    <button id="movieApi">Show Api</button>
    <div class="container">
        <div class="row" id="showmovie">
            
        </div>
    </div>


    <script>
        const showApi = document.querySelector('#movieApi')
        showApi.addEventListener('click', async () => {
            const url = 'https://imdb-top-100-movies.p.rapidapi.com/';
            const options = {
                method: 'GET',
                headers: {
                    'x-rapidapi-key': '668e600bdcmsh7bbfac5560e7c77p1f12e1jsn7ca799bb8808',
                    'x-rapidapi-host': 'imdb-top-100-movies.p.rapidapi.com'
                }
            };

            try {
                const response = await fetch(url, options);
                const movies = await response.json();
                let output=""
                movies.forEach((movie)=>{
                    output +=`
                    <div class="col-lg-3 col-lx-3 col-md-6">
                        <div class="card border-0 shadow">
                            <img src=${movie.thumbnail} alt="">
                            <div class="card-body">
                                <h3>${movie.title}</h3>
                                <ul>
                                    <li>${movie.description}</li>
                                    <li>${movie.rating}</li>
                                    <li>${movie.rank}</li>
                                    <li>${movie.year}</li>
                                    <li>${movie.genre.join(" , ")}</li>
                                </ul>
                                <a href="${movie.imdb_link}" target="_blank">read more</a>
                            </div>
                        </div>
                    </div>
                    `
                })
                document.querySelector('#showmovie').innerHTML= output
            } catch (error) {
                console.error(error);
            }
        })
    </script>
</body>

</html>